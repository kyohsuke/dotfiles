# vim: expandtab softtabstop=2 shiftwidth=2
# vim: foldmethod=marker
# vim: filetype=fish
set -gx fish_function_path $fish_function_path "$HOME/.fish-functions"

test $fish_key_bindings != 'fish_vi_key_bindings'
and fish_vi_key_bindings

test -f "$HOME/.fish-functions/check_ssh_config.fish"
and source "$HOME/.fish-functions/check_ssh_config.fish"

fish_add_path -m "$HOME/sbin"
fish_add_path -m "$HOME/bin"

# {{{ KeyBindings 
function fish_user_key_bindings
  bind -s -M default \cc cancel-commandline force-repaint

  bind -s -M insert \co __ghq_cd
  bind -s -M insert \ch __peco_history
  bind -s -M insert \ck __peco_branch

  # Accept Autosuggestion like python prompt Kit
  bind -s -M insert \ce accept-autosuggestion

  bind -s -M visual y "fish_clipboard_copy; commandline -f end-selection force-repaint; set fish_bind_mode default"

  bind -s -M default p fish_clipboard_paste
  bind -s -M default P fish_clipboard_paste
end
# }}}

test -f "$HOME/.fishrc.local"
and source "$HOME/.fishrc.local"
