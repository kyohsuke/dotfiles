# vim: expandtab softtabstop=2 shiftwidth=2
# vim: foldmethod=marker
# vim: filetype=fish
set -gx fish_function_path $fish_function_path "$HOME/.fish-functions"

test $fish_key_bindings != 'fish_vi_key_bindings'
and fish_vi_key_bindings

test -f "$HOME/.fish-functions/check_ssh_config.fish"
and source "$HOME/.fish-functions/check_ssh_config.fish"

fish_add_path -m "$HOME/sbin"
fish_add_path -m "$HOME/bin"

# {{{ KeyBindings 
function fish_user_key_bindings
  bind -s \cc cancel-commandline
  bind -s -M insert \co __ghq_cd
  bind -s -M insert \ch __peco_history
  bind -s -M insert \ck __peco_branch

  # Accept Autosuggestion like python prompt Kit
  bind -M insert \ce accept-autosuggestion
end
# }}}
# {{{ Aliases
alias vim='/Applications/MacVim.app/Contents/MacOS/Vim'
set -f vim_version (vim --version | head -1 | sed 's/^.*\ \([0-9]\)\.\([0-9]\)\ .*$/\1\2/')
alias less="/usr/share/vim/vim$vim_version/macros/less.sh"
alias gup='git pull --rebase'
alias rm='rm -i'
alias df='df -h'
alias bc='bc -l'
alias scrr='screen -U -D -RR'
alias diff='diff -W $COLUMNS'
alias locate='mdfind -name'
alias top='top -o cpu'
alias svc='brew services'
alias toweb='ruby -run -e httpd . -p5000'
alias vcat='vimcat'
alias cat='bat --paging=never'
alias ls='ls -G'
alias cp='cp -v -i'
alias mv='mv -v -i'

command -v docker-compose > /dev/null
and alias dcs='docker stats $(docker-compose ps -q || echo "#")'

command -v thefuck > /dev/null
and alias f='thefuck'
# }}}
